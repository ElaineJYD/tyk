=== RUN   TestGeoIPLookup
time="May 25 18:13:01" level=info msg="Rich plugins are disabled" prefix=coprocess
--- PASS: TestGeoIPLookup (0.05s)
=== RUN   TestURLReplacer
--- PASS: TestURLReplacer (0.02s)
=== RUN   TestTagHeaders
--- PASS: TestTagHeaders (0.00s)
=== RUN   TestURLRewrites
=== RUN   TestURLRewrites/Extended_Paths_with_url_rewrites
--- PASS: TestURLRewrites (0.03s)
    --- PASS: TestURLRewrites/Extended_Paths_with_url_rewrites (0.01s)
=== RUN   TestWhitelist
=== RUN   TestWhitelist/Extended_Paths
=== RUN   TestWhitelist/Simple_Paths
=== RUN   TestWhitelist/Test_#1944
=== RUN   TestWhitelist/Case_Sensitivity
=== RUN   TestWhitelist/Listen_path_matches
--- PASS: TestWhitelist (0.06s)
    --- PASS: TestWhitelist/Extended_Paths (0.01s)
    --- PASS: TestWhitelist/Simple_Paths (0.01s)
    --- PASS: TestWhitelist/Test_#1944 (0.01s)
    --- PASS: TestWhitelist/Case_Sensitivity (0.01s)
    --- PASS: TestWhitelist/Listen_path_matches (0.01s)
=== RUN   TestBlacklist
=== RUN   TestBlacklist/Extended_Paths
=== RUN   TestBlacklist/Simple_Paths
=== RUN   TestBlacklist/Case_Sensitivity
=== RUN   TestBlacklist/Listen_path_matches
--- PASS: TestBlacklist (0.05s)
    --- PASS: TestBlacklist/Extended_Paths (0.01s)
    --- PASS: TestBlacklist/Simple_Paths (0.01s)
    --- PASS: TestBlacklist/Case_Sensitivity (0.01s)
    --- PASS: TestBlacklist/Listen_path_matches (0.01s)
=== RUN   TestConflictingPaths
--- PASS: TestConflictingPaths (0.02s)
=== RUN   TestIgnored
=== RUN   TestIgnored/Extended_Paths
=== RUN   TestIgnored/Simple_Paths
=== RUN   TestIgnored/With_URL_rewrite
=== RUN   TestIgnored/Case_Sensitivity
=== RUN   TestIgnored/Case_Sensitivity/ignore-case_globally
=== RUN   TestIgnored/Case_Sensitivity/ignore-case_in_api_level
--- PASS: TestIgnored (0.09s)
    --- PASS: TestIgnored/Extended_Paths (0.01s)
    --- PASS: TestIgnored/Simple_Paths (0.01s)
    --- PASS: TestIgnored/With_URL_rewrite (0.01s)
    --- PASS: TestIgnored/Case_Sensitivity (0.04s)
        --- PASS: TestIgnored/Case_Sensitivity/ignore-case_globally (0.01s)
        --- PASS: TestIgnored/Case_Sensitivity/ignore-case_in_api_level (0.01s)
=== RUN   TestWhitelistMethodWithAdditionalMiddleware
=== RUN   TestWhitelistMethodWithAdditionalMiddleware/Extended_Paths
--- PASS: TestWhitelistMethodWithAdditionalMiddleware (0.03s)
    --- PASS: TestWhitelistMethodWithAdditionalMiddleware/Extended_Paths (0.01s)
=== RUN   TestSyncAPISpecsDashboardSuccess
--- PASS: TestSyncAPISpecsDashboardSuccess (0.03s)
=== RUN   TestRoundRobin
--- PASS: TestRoundRobin (0.00s)
=== RUN   TestDefaultVersion
--- PASS: TestDefaultVersion (0.03s)
=== RUN   TestGetVersionFromRequest
=== RUN   TestGetVersionFromRequest/Header_location
=== RUN   TestGetVersionFromRequest/URL_param_location
=== RUN   TestGetVersionFromRequest/URL_location
--- PASS: TestGetVersionFromRequest (1.10s)
    --- PASS: TestGetVersionFromRequest/Header_location (1.03s)
    --- PASS: TestGetVersionFromRequest/URL_param_location (0.04s)
    --- PASS: TestGetVersionFromRequest/URL_location (0.03s)
=== RUN   TestSyncAPISpecsDashboardJSONFailure
--- PASS: TestSyncAPISpecsDashboardJSONFailure (0.00s)
=== RUN   TestAPIDefinitionLoader_Template
=== RUN   TestAPIDefinitionLoader_Template/loadFileTemplate
=== RUN   TestAPIDefinitionLoader_Template/loadBlobTemplate
--- PASS: TestAPIDefinitionLoader_Template (0.02s)
    --- PASS: TestAPIDefinitionLoader_Template/loadFileTemplate (0.00s)
    --- PASS: TestAPIDefinitionLoader_Template/loadBlobTemplate (0.00s)
=== RUN   TestOpenTracing
=== RUN   TestOpenTracing/ensure_the_manager_is_enabled
=== RUN   TestOpenTracing/ensure_services_are_initialized
--- PASS: TestOpenTracing (0.03s)
    --- PASS: TestOpenTracing/ensure_the_manager_is_enabled (0.00s)
    --- PASS: TestOpenTracing/ensure_services_are_initialized (0.01s)
=== RUN   TestInternalAPIUsage
=== RUN   TestInternalAPIUsage/with_name
=== RUN   TestInternalAPIUsage/with_api_id
--- PASS: TestInternalAPIUsage (0.04s)
    --- PASS: TestInternalAPIUsage/with_name (0.00s)
    --- PASS: TestInternalAPIUsage/with_api_id (0.01s)
=== RUN   TestFuzzyFindAPI
--- PASS: TestFuzzyFindAPI (0.03s)
=== RUN   TestGraphQLPlayground
=== RUN   TestGraphQLPlayground/on-premise
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_empty
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_empty/playground_html_is_loaded
    api_loader_test.go:125: [0] Expected status code `200` got `404. 404 page not found
        `. 
    api_loader_test.go:125: [1] Expected status code `200` got `404. 404 page not found
        `. 
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_empty/playground.js_is_loaded
    api_loader_test.go:131: [0] Expected status code `200` got `404. 404 page not found
        `. 
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_empty/should_get_error_on_post_request_to_playground_path
    api_loader_test.go:136: [0] Expected status code `400` got `404. 404 page not found
        `. 
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/'
    api_loader_test.go:166: [0] Response body does not match with regex `<link rel="stylesheet" href="playground.css" />`. <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8" />
          <title>API Playground</title>
        </head>
        <style>
          * {
            margin: 0;
            padding: 0;
          }
        
          .graphiql-container {
            border-radius: 0px !important;
            height: 100vh !important;
          }
        </style>
        <body>
          <div id="root">
          </div>
          <script src="/graphql-api/playground.js"> </script>
          <script>
            const apiUrl = "/graphql-api/";
            const schema = "type Query {people: [Person] countries: [Country] headers: [Header]} type Person {name: String country: Country} type Country {code: String name: String} type Header {name:String value: String}";
            const GraphiQlInitInstance = new window.GraphiqlInit({
              containerId: 'root',
              url: apiUrl,
              schema: schema
            });
          </script>
        </html>. 
    api_loader_test.go:166: [1] Response body does not match with regex `endpoint: "\\/graphql-api\\/"`. <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8" />
          <title>API Playground</title>
        </head>
        <style>
          * {
            margin: 0;
            padding: 0;
          }
        
          .graphiql-container {
            border-radius: 0px !important;
            height: 100vh !important;
          }
        </style>
        <body>
          <div id="root">
          </div>
          <script src="/graphql-api/playground.js"> </script>
          <script>
            const apiUrl = "/graphql-api/";
            const schema = "type Query {people: [Person] countries: [Country] headers: [Header]} type Person {name: String country: Country} type Country {code: String name: String} type Header {name:String value: String}";
            const GraphiQlInitInstance = new window.GraphiqlInit({
              containerId: 'root',
              url: apiUrl,
              schema: schema
            });
          </script>
        </html>. 
    api_loader_test.go:166: [2] Response body does not match with regex `body{margin:0;padding:0;font-family:.*`. {
            "error": "the provided request is empty"
        }. 
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/playground'
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/playground'/playground_html_is_loaded
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/playground'/playground.js_is_loaded
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/playground'/should_get_error_on_post_request_to_playground_path
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/ppp'
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/ppp'/playground_html_is_loaded
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/ppp'/playground.js_is_loaded
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/ppp'/should_get_error_on_post_request_to_playground_path
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/zzz/'
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/zzz/'/playground_html_is_loaded
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/zzz/'/playground.js_is_loaded
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'/zzz/'/should_get_error_on_post_request_to_playground_path
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'aaa'
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'aaa'/playground_html_is_loaded
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'aaa'/playground.js_is_loaded
=== RUN   TestGraphQLPlayground/on-premise/playground_path_is_'aaa'/should_get_error_on_post_request_to_playground_path
=== RUN   TestGraphQLPlayground/cloud
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_empty
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_empty/playground_html_is_loaded
    api_loader_test.go:125: [0] Expected status code `200` got `404. Not Found`. 
    api_loader_test.go:125: [1] Expected status code `200` got `404. Not Found`. 
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_empty/playground.js_is_loaded
    api_loader_test.go:131: [0] Expected status code `200` got `404. Not Found`. 
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_empty/should_get_error_on_post_request_to_playground_path
    api_loader_test.go:136: [0] Expected status code `400` got `404. Not Found`. 
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/'
    api_loader_test.go:166: [0] Response body does not match with regex `<link rel="stylesheet" href="playground.css" />`. <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8" />
          <title>API Playground</title>
        </head>
        <style>
          * {
            margin: 0;
            padding: 0;
          }
        
          .graphiql-container {
            border-radius: 0px !important;
            height: 100vh !important;
          }
        </style>
        <body>
          <div id="root">
          </div>
          <script src="/someslug/playground.js"> </script>
          <script>
            const apiUrl = "/someslug/";
            const schema = "type Query {people: [Person] countries: [Country] headers: [Header]} type Person {name: String country: Country} type Country {code: String name: String} type Header {name:String value: String}";
            const GraphiQlInitInstance = new window.GraphiqlInit({
              containerId: 'root',
              url: apiUrl,
              schema: schema
            });
          </script>
        </html>. 
    api_loader_test.go:166: [1] Response body does not match with regex `endpoint: "\\/graphql-api\\/"`. <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8" />
          <title>API Playground</title>
        </head>
        <style>
          * {
            margin: 0;
            padding: 0;
          }
        
          .graphiql-container {
            border-radius: 0px !important;
            height: 100vh !important;
          }
        </style>
        <body>
          <div id="root">
          </div>
          <script src="/someslug/playground.js"> </script>
          <script>
            const apiUrl = "/someslug/";
            const schema = "type Query {people: [Person] countries: [Country] headers: [Header]} type Person {name: String country: Country} type Country {code: String name: String} type Header {name:String value: String}";
            const GraphiQlInitInstance = new window.GraphiqlInit({
              containerId: 'root',
              url: apiUrl,
              schema: schema
            });
          </script>
        </html>. 
    api_loader_test.go:166: [2] Response body does not match with regex `body{margin:0;padding:0;font-family:.*`. {
            "error": "the provided request is empty"
        }. 
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/playground'
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/playground'/playground_html_is_loaded
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/playground'/playground.js_is_loaded
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/playground'/should_get_error_on_post_request_to_playground_path
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/ppp'
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/ppp'/playground_html_is_loaded
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/ppp'/playground.js_is_loaded
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/ppp'/should_get_error_on_post_request_to_playground_path
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/zzz/'
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/zzz/'/playground_html_is_loaded
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/zzz/'/playground.js_is_loaded
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'/zzz/'/should_get_error_on_post_request_to_playground_path
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'aaa'
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'aaa'/playground_html_is_loaded
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'aaa'/playground.js_is_loaded
=== RUN   TestGraphQLPlayground/cloud/playground_path_is_'aaa'/should_get_error_on_post_request_to_playground_path
--- FAIL: TestGraphQLPlayground (0.17s)
    --- FAIL: TestGraphQLPlayground/on-premise (0.08s)
        --- FAIL: TestGraphQLPlayground/on-premise/playground_path_is_empty (0.00s)
            --- FAIL: TestGraphQLPlayground/on-premise/playground_path_is_empty/playground_html_is_loaded (0.00s)
            --- FAIL: TestGraphQLPlayground/on-premise/playground_path_is_empty/playground.js_is_loaded (0.00s)
            --- FAIL: TestGraphQLPlayground/on-premise/playground_path_is_empty/should_get_error_on_post_request_to_playground_path (0.00s)
        --- FAIL: TestGraphQLPlayground/on-premise/playground_path_is_'/' (0.01s)
        --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/playground' (0.02s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/playground'/playground_html_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/playground'/playground.js_is_loaded (0.01s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/playground'/should_get_error_on_post_request_to_playground_path (0.00s)
        --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/ppp' (0.01s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/ppp'/playground_html_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/ppp'/playground.js_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/ppp'/should_get_error_on_post_request_to_playground_path (0.00s)
        --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/zzz/' (0.02s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/zzz/'/playground_html_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/zzz/'/playground.js_is_loaded (0.01s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'/zzz/'/should_get_error_on_post_request_to_playground_path (0.00s)
        --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'aaa' (0.01s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'aaa'/playground_html_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'aaa'/playground.js_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/on-premise/playground_path_is_'aaa'/should_get_error_on_post_request_to_playground_path (0.00s)
    --- FAIL: TestGraphQLPlayground/cloud (0.07s)
        --- FAIL: TestGraphQLPlayground/cloud/playground_path_is_empty (0.00s)
            --- FAIL: TestGraphQLPlayground/cloud/playground_path_is_empty/playground_html_is_loaded (0.00s)
            --- FAIL: TestGraphQLPlayground/cloud/playground_path_is_empty/playground.js_is_loaded (0.00s)
            --- FAIL: TestGraphQLPlayground/cloud/playground_path_is_empty/should_get_error_on_post_request_to_playground_path (0.00s)
        --- FAIL: TestGraphQLPlayground/cloud/playground_path_is_'/' (0.01s)
        --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/playground' (0.02s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/playground'/playground_html_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/playground'/playground.js_is_loaded (0.01s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/playground'/should_get_error_on_post_request_to_playground_path (0.00s)
        --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/ppp' (0.01s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/ppp'/playground_html_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/ppp'/playground.js_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/ppp'/should_get_error_on_post_request_to_playground_path (0.00s)
        --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/zzz/' (0.02s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/zzz/'/playground_html_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/zzz/'/playground.js_is_loaded (0.01s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'/zzz/'/should_get_error_on_post_request_to_playground_path (0.00s)
        --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'aaa' (0.01s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'aaa'/playground_html_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'aaa'/playground.js_is_loaded (0.00s)
            --- PASS: TestGraphQLPlayground/cloud/playground_path_is_'aaa'/should_get_error_on_post_request_to_playground_path (0.00s)
=== RUN   TestCORS
=== RUN   TestCORS/CORS_disabled
=== RUN   TestCORS/CORS_enabled
=== RUN   TestCORS/oauth_endpoints
=== RUN   TestCORS/oauth_endpoints/CORS_disabled
=== RUN   TestCORS/oauth_endpoints/CORS_enabled
--- PASS: TestCORS (0.06s)
    --- PASS: TestCORS/CORS_disabled (0.00s)
    --- PASS: TestCORS/CORS_enabled (0.01s)
    --- PASS: TestCORS/oauth_endpoints (0.02s)
        --- PASS: TestCORS/oauth_endpoints/CORS_disabled (0.00s)
        --- PASS: TestCORS/oauth_endpoints/CORS_enabled (0.01s)
=== RUN   TestTykRateLimitsStatusOfAPI
--- PASS: TestTykRateLimitsStatusOfAPI (0.04s)
=== RUN   TestHealthCheckEndpoint
--- PASS: TestHealthCheckEndpoint (0.04s)
=== RUN   TestApiHandlerPostDupPath
=== RUN   TestApiHandlerPostDupPath/Sequentieal_order
=== RUN   TestApiHandlerPostDupPath/Should_re-order
=== RUN   TestApiHandlerPostDupPath/Restore_original_order
--- PASS: TestApiHandlerPostDupPath (0.04s)
    --- PASS: TestApiHandlerPostDupPath/Sequentieal_order (0.01s)
    --- PASS: TestApiHandlerPostDupPath/Should_re-order (0.01s)
    --- PASS: TestApiHandlerPostDupPath/Restore_original_order (0.01s)
=== RUN   TestKeyHandler
=== RUN   TestKeyHandler/Create_key
=== RUN   TestKeyHandler/Create_key_with_policy
=== RUN   TestKeyHandler/Get_key
=== RUN   TestKeyHandler/List_keys
=== RUN   TestKeyHandler/List_keys/filter=""
=== RUN   TestKeyHandler/List_keys/filter=orgID
=== RUN   TestKeyHandler/Update_key
=== RUN   TestKeyHandler/Delete_key
--- PASS: TestKeyHandler (0.09s)
    --- PASS: TestKeyHandler/Create_key (0.00s)
    --- PASS: TestKeyHandler/Create_key_with_policy (0.02s)
    --- PASS: TestKeyHandler/Get_key (0.00s)
    --- PASS: TestKeyHandler/List_keys (0.01s)
        --- PASS: TestKeyHandler/List_keys/filter="" (0.00s)
        --- PASS: TestKeyHandler/List_keys/filter=orgID (0.00s)
    --- PASS: TestKeyHandler/Update_key (0.01s)
    --- PASS: TestKeyHandler/Delete_key (0.00s)
=== RUN   TestKeyHandler_UpdateKey
=== RUN   TestKeyHandler_UpdateKey/Add_policy_not_enforcing_acl
=== RUN   TestKeyHandler_UpdateKey/Remove_policy_not_enforcing_acl
=== RUN   TestKeyHandler_UpdateKey/Tags_on_key_level
=== RUN   TestKeyHandler_UpdateKey/Tags_on_key_level/Add
=== RUN   TestKeyHandler_UpdateKey/Tags_on_key_level/Make_unique
=== RUN   TestKeyHandler_UpdateKey/Tags_on_key_level/Remove
=== RUN   TestKeyHandler_UpdateKey/MetaData_on_key_level
=== RUN   TestKeyHandler_UpdateKey/MetaData_on_key_level/Add
=== RUN   TestKeyHandler_UpdateKey/MetaData_on_key_level/Make_unique
=== RUN   TestKeyHandler_UpdateKey/MetaData_on_key_level/Remove
--- PASS: TestKeyHandler_UpdateKey (0.06s)
    --- PASS: TestKeyHandler_UpdateKey/Add_policy_not_enforcing_acl (0.00s)
    --- PASS: TestKeyHandler_UpdateKey/Remove_policy_not_enforcing_acl (0.00s)
    --- PASS: TestKeyHandler_UpdateKey/Tags_on_key_level (0.02s)
        --- PASS: TestKeyHandler_UpdateKey/Tags_on_key_level/Add (0.00s)
        --- PASS: TestKeyHandler_UpdateKey/Tags_on_key_level/Make_unique (0.01s)
        --- PASS: TestKeyHandler_UpdateKey/Tags_on_key_level/Remove (0.01s)
    --- PASS: TestKeyHandler_UpdateKey/MetaData_on_key_level (0.01s)
        --- PASS: TestKeyHandler_UpdateKey/MetaData_on_key_level/Add (0.00s)
        --- PASS: TestKeyHandler_UpdateKey/MetaData_on_key_level/Make_unique (0.00s)
        --- PASS: TestKeyHandler_UpdateKey/MetaData_on_key_level/Remove (0.01s)
=== RUN   TestUpdateKeyWithCert
=== RUN   TestUpdateKeyWithCert/Update_key_with_valid_cert
=== RUN   TestUpdateKeyWithCert/Update_key_with_empty_cert
=== RUN   TestUpdateKeyWithCert/Update_key_with_invalid_cert
--- PASS: TestUpdateKeyWithCert (0.19s)
    --- PASS: TestUpdateKeyWithCert/Update_key_with_valid_cert (0.08s)
    --- PASS: TestUpdateKeyWithCert/Update_key_with_empty_cert (0.03s)
    --- PASS: TestUpdateKeyWithCert/Update_key_with_invalid_cert (0.04s)
=== RUN   TestKeyHandler_CheckKeysNotDuplicateOnUpdate
=== RUN   TestKeyHandler_CheckKeysNotDuplicateOnUpdate/duplicity_on_update_custom_key
=== RUN   TestKeyHandler_CheckKeysNotDuplicateOnUpdate/duplicity_on_update_regular_key
--- PASS: TestKeyHandler_CheckKeysNotDuplicateOnUpdate (0.07s)
    --- PASS: TestKeyHandler_CheckKeysNotDuplicateOnUpdate/duplicity_on_update_custom_key (0.01s)
    --- PASS: TestKeyHandler_CheckKeysNotDuplicateOnUpdate/duplicity_on_update_regular_key (0.01s)
=== RUN   TestHashKeyHandler
=== RUN   TestHashKeyHandler/_Legacy_tokens,_fallback_to_murmur32Hash_fn:_
=== RUN   TestHashKeyHandler/_Legacy_tokens,_fallback_to_murmur32Hash_fn:_/Create,_get_and_delete_key_with_key_hashing
=== RUN   TestHashKeyHandler/_Legacy_tokens,_fallback_to_murmur32Hash_fn:__and_Basic_Auth
=== RUN   TestHashKeyHandler/Hash_fn:_murmur32
=== RUN   TestHashKeyHandler/Hash_fn:_murmur32/Create,_get_and_delete_key_with_key_hashing
=== RUN   TestHashKeyHandler/Hash_fn:_murmur32_and_Basic_Auth
=== RUN   TestHashKeyHandler/Hash_fn:_murmur64
=== RUN   TestHashKeyHandler/Hash_fn:_murmur64/Create,_get_and_delete_key_with_key_hashing
=== RUN   TestHashKeyHandler/Hash_fn:_murmur64_and_Basic_Auth
=== RUN   TestHashKeyHandler/Hash_fn:_murmur128
=== RUN   TestHashKeyHandler/Hash_fn:_murmur128/Create,_get_and_delete_key_with_key_hashing
=== RUN   TestHashKeyHandler/Hash_fn:_murmur128_and_Basic_Auth
=== RUN   TestHashKeyHandler/Hash_fn:_sha256
=== RUN   TestHashKeyHandler/Hash_fn:_sha256/Create,_get_and_delete_key_with_key_hashing
=== RUN   TestHashKeyHandler/Hash_fn:_sha256_and_Basic_Auth
=== RUN   TestHashKeyHandler/_Should_fallback_to_murmur64_if_wrong_algHash_fn:_wrong
=== RUN   TestHashKeyHandler/_Should_fallback_to_murmur64_if_wrong_algHash_fn:_wrong/Create,_get_and_delete_key_with_key_hashing
=== RUN   TestHashKeyHandler/_Should_fallback_to_murmur64_if_wrong_algHash_fn:_wrong_and_Basic_Auth
--- PASS: TestHashKeyHandler (0.65s)
    --- PASS: TestHashKeyHandler/_Legacy_tokens,_fallback_to_murmur32Hash_fn:_ (0.03s)
        --- PASS: TestHashKeyHandler/_Legacy_tokens,_fallback_to_murmur32Hash_fn:_/Create,_get_and_delete_key_with_key_hashing (0.02s)
    --- PASS: TestHashKeyHandler/_Legacy_tokens,_fallback_to_murmur32Hash_fn:__and_Basic_Auth (0.07s)
    --- PASS: TestHashKeyHandler/Hash_fn:_murmur32 (0.02s)
        --- PASS: TestHashKeyHandler/Hash_fn:_murmur32/Create,_get_and_delete_key_with_key_hashing (0.02s)
    --- PASS: TestHashKeyHandler/Hash_fn:_murmur32_and_Basic_Auth (0.07s)
    --- PASS: TestHashKeyHandler/Hash_fn:_murmur64 (0.03s)
        --- PASS: TestHashKeyHandler/Hash_fn:_murmur64/Create,_get_and_delete_key_with_key_hashing (0.03s)
    --- PASS: TestHashKeyHandler/Hash_fn:_murmur64_and_Basic_Auth (0.07s)
    --- PASS: TestHashKeyHandler/Hash_fn:_murmur128 (0.03s)
        --- PASS: TestHashKeyHandler/Hash_fn:_murmur128/Create,_get_and_delete_key_with_key_hashing (0.02s)
    --- PASS: TestHashKeyHandler/Hash_fn:_murmur128_and_Basic_Auth (0.07s)
    --- PASS: TestHashKeyHandler/Hash_fn:_sha256 (0.03s)
        --- PASS: TestHashKeyHandler/Hash_fn:_sha256/Create,_get_and_delete_key_with_key_hashing (0.03s)
    --- PASS: TestHashKeyHandler/Hash_fn:_sha256_and_Basic_Auth (0.07s)
    --- PASS: TestHashKeyHandler/_Should_fallback_to_murmur64_if_wrong_algHash_fn:_wrong (0.04s)
        --- PASS: TestHashKeyHandler/_Should_fallback_to_murmur64_if_wrong_algHash_fn:_wrong/Create,_get_and_delete_key_with_key_hashing (0.03s)
    --- PASS: TestHashKeyHandler/_Should_fallback_to_murmur64_if_wrong_algHash_fn:_wrong_and_Basic_Auth (0.08s)
=== RUN   TestHashKeyHandlerLegacyWithHashFunc
--- PASS: TestHashKeyHandlerLegacyWithHashFunc (0.10s)
=== RUN   TestHashKeyListingDisabled
=== RUN   TestHashKeyListingDisabled/Create,_get_and_delete_key_with_key_hashing
--- PASS: TestHashKeyListingDisabled (0.06s)
    --- PASS: TestHashKeyListingDisabled/Create,_get_and_delete_key_with_key_hashing (0.02s)
=== RUN   TestKeyHandler_HashingDisabled
=== RUN   TestKeyHandler_HashingDisabled/Create,_get_and_delete_key_with_key_hashing
--- PASS: TestKeyHandler_HashingDisabled (0.04s)
    --- PASS: TestKeyHandler_HashingDisabled/Create,_get_and_delete_key_with_key_hashing (0.02s)
=== RUN   TestInvalidateCache
--- PASS: TestInvalidateCache (0.04s)
=== RUN   TestGetOAuthClients
--- PASS: TestGetOAuthClients (0.07s)
=== RUN   TestCreateOAuthClient
=== RUN   TestCreateOAuthClient/no_api_id_but_policy_id_provided
=== RUN   TestCreateOAuthClient/no_policy_id_but_api_id_provided
=== RUN   TestCreateOAuthClient/policy_does_not_exist
=== RUN   TestCreateOAuthClient/API_does_not_exist
=== RUN   TestCreateOAuthClient/API_is_not_OAuth
--- PASS: TestCreateOAuthClient (0.04s)
    --- PASS: TestCreateOAuthClient/no_api_id_but_policy_id_provided (0.01s)
    --- PASS: TestCreateOAuthClient/no_policy_id_but_api_id_provided (0.00s)
    --- PASS: TestCreateOAuthClient/policy_does_not_exist (0.00s)
    --- PASS: TestCreateOAuthClient/API_does_not_exist (0.00s)
    --- PASS: TestCreateOAuthClient/API_is_not_OAuth (0.00s)
=== RUN   TestUpdateOauthClientHandler
=== RUN   TestUpdateOauthClientHandler/Secret_cannot_be_updated
=== RUN   TestUpdateOauthClientHandler/Update_description
=== RUN   TestUpdateOauthClientHandler/Secret_remains_the_same
--- PASS: TestUpdateOauthClientHandler (0.05s)
    --- PASS: TestUpdateOauthClientHandler/Secret_cannot_be_updated (0.01s)
    --- PASS: TestUpdateOauthClientHandler/Update_description (0.01s)
    --- PASS: TestUpdateOauthClientHandler/Secret_remains_the_same (0.01s)
=== RUN   TestGroupResetHandler
--- PASS: TestGroupResetHandler (0.03s)
=== RUN   TestHotReloadSingle
    api_test.go:1444: router wasn't swapped
--- FAIL: TestHotReloadSingle (0.04s)
=== RUN   TestContextData
--- PASS: TestContextData (0.00s)
=== RUN   TestContextSession
--- PASS: TestContextSession (0.02s)
=== RUN   TestApiLoaderLongestPathFirst
--- PASS: TestApiLoaderLongestPathFirst (0.04s)
=== RUN   TestRotateClientSecretHandler
=== RUN   TestRotateClientSecretHandler/Secret_can_be_rotated
--- PASS: TestRotateClientSecretHandler (0.06s)
    --- PASS: TestRotateClientSecretHandler/Secret_can_be_rotated (0.01s)
=== RUN   TestHandleAddOrUpdateApi
=== RUN   TestHandleAddOrUpdateApi/should_return_error_when_api_definition_json_is_invalid
=== RUN   TestHandleAddOrUpdateApi/should_return_error_when_api_ids_are_different
=== RUN   TestHandleAddOrUpdateApi/should_return_error_when_semantic_validation_fails
=== RUN   TestHandleAddOrUpdateApi/should_return_success_when_no_error_occurs
    api_test.go:1737: returns 200
--- PASS: TestHandleAddOrUpdateApi (0.02s)
    --- PASS: TestHandleAddOrUpdateApi/should_return_error_when_api_definition_json_is_invalid (0.00s)
    --- PASS: TestHandleAddOrUpdateApi/should_return_error_when_api_ids_are_different (0.00s)
    --- PASS: TestHandleAddOrUpdateApi/should_return_error_when_semantic_validation_fails (0.00s)
    --- PASS: TestHandleAddOrUpdateApi/should_return_success_when_no_error_occurs (0.00s)
=== RUN   TestAuthenticationAfterDeleteKey
=== RUN   TestAuthenticationAfterDeleteKey/HashKeys=false
=== RUN   TestAuthenticationAfterDeleteKey/HashKeys=true
--- PASS: TestAuthenticationAfterDeleteKey (0.15s)
    --- PASS: TestAuthenticationAfterDeleteKey/HashKeys=false (0.05s)
    --- PASS: TestAuthenticationAfterDeleteKey/HashKeys=true (0.05s)
=== RUN   TestAuthenticationAfterUpdateKey
=== RUN   TestAuthenticationAfterUpdateKey/HashKeys=false
=== RUN   TestAuthenticationAfterUpdateKey/HashKeys=true
--- PASS: TestAuthenticationAfterUpdateKey (0.10s)
    --- PASS: TestAuthenticationAfterUpdateKey/HashKeys=false (0.02s)
    --- PASS: TestAuthenticationAfterUpdateKey/HashKeys=true (0.03s)
=== RUN   TestHashKeyFunctionChanged
=== RUN   TestHashKeyFunctionChanged/custom_key
=== RUN   TestHashKeyFunctionChanged/basic_auth_key
=== RUN   TestHashKeyFunctionChanged/client_certificate
--- PASS: TestHashKeyFunctionChanged (0.25s)
    --- PASS: TestHashKeyFunctionChanged/custom_key (0.01s)
    --- PASS: TestHashKeyFunctionChanged/basic_auth_key (0.14s)
    --- PASS: TestHashKeyFunctionChanged/client_certificate (0.02s)
=== RUN   TestBatch
--- PASS: TestBatch (0.02s)
=== RUN   TestVirtualEndpointBatch
=== RUN   TestVirtualEndpointBatch/Skip_verification
=== RUN   TestVirtualEndpointBatch/Verification_required
--- PASS: TestVirtualEndpointBatch (0.21s)
    --- PASS: TestVirtualEndpointBatch/Skip_verification (0.01s)
    --- PASS: TestVirtualEndpointBatch/Verification_required (0.13s)
=== RUN   TestBatchIgnoreCanonicalHeaderKey
--- PASS: TestBatchIgnoreCanonicalHeaderKey (0.53s)
=== RUN   TestPublicKeyPinning
=== RUN   TestPublicKeyPinning/Pub_key_match
=== RUN   TestPublicKeyPinning/Pub_key_not_match
=== RUN   TestPublicKeyPinning/Global_setting
=== RUN   TestPublicKeyPinning/Though_proxy
=== RUN   TestPublicKeyPinning/Enable_Common_Name_check
--- PASS: TestPublicKeyPinning (0.24s)
    --- PASS: TestPublicKeyPinning/Pub_key_match (0.01s)
    --- PASS: TestPublicKeyPinning/Pub_key_not_match (0.01s)
    --- PASS: TestPublicKeyPinning/Global_setting (0.02s)
    --- PASS: TestPublicKeyPinning/Though_proxy (0.05s)
    --- PASS: TestPublicKeyPinning/Enable_Common_Name_check (0.11s)
=== RUN   TestProxyTransport
=== RUN   TestProxyTransport/Global:_Cipher_match
=== RUN   TestProxyTransport/Global:_Cipher_not_match
=== RUN   TestProxyTransport/API:_Cipher_override
=== RUN   TestProxyTransport/API:_MinTLS_not_match
=== RUN   TestProxyTransport/API:_Invalid_proxy
=== RUN   TestProxyTransport/API:_Valid_proxy
--- PASS: TestProxyTransport (0.09s)
    --- PASS: TestProxyTransport/Global:_Cipher_match (0.01s)
    --- PASS: TestProxyTransport/Global:_Cipher_not_match (0.01s)
    --- PASS: TestProxyTransport/API:_Cipher_override (0.01s)
    --- PASS: TestProxyTransport/API:_MinTLS_not_match (0.01s)
    --- PASS: TestProxyTransport/API:_Invalid_proxy (0.01s)
    --- PASS: TestProxyTransport/API:_Valid_proxy (0.03s)
=== RUN   TestGatewayTLS
=== RUN   TestGatewayTLS/Without_certificates
=== RUN   TestGatewayTLS/Legacy_TLS_certificate_path
=== RUN   TestGatewayTLS/File_certificate_path
=== RUN   TestGatewayTLS/Redis_certificate
--- PASS: TestGatewayTLS (0.16s)
    --- PASS: TestGatewayTLS/Without_certificates (0.03s)
    --- PASS: TestGatewayTLS/Legacy_TLS_certificate_path (0.05s)
    --- PASS: TestGatewayTLS/File_certificate_path (0.03s)
    --- PASS: TestGatewayTLS/Redis_certificate (0.04s)
=== RUN   TestGatewayControlAPIMutualTLS
=== RUN   TestGatewayControlAPIMutualTLS/Separate_domain
=== RUN   TestGatewayControlAPIMutualTLS/Separate_domain/_control_api_with_valid_cert
--- PASS: TestGatewayControlAPIMutualTLS (0.12s)
    --- PASS: TestGatewayControlAPIMutualTLS/Separate_domain (0.03s)
    --- PASS: TestGatewayControlAPIMutualTLS/Separate_domain/_control_api_with_valid_cert (0.05s)
=== RUN   TestAPIMutualTLS
=== RUN   TestAPIMutualTLS/SNI_and_domain_per_API
=== RUN   TestAPIMutualTLS/SNI_and_domain_per_API/API_without_mutual_TLS
=== RUN   TestAPIMutualTLS/SNI_and_domain_per_API/MutualTLSCertificate_not_set
=== RUN   TestAPIMutualTLS/SNI_and_domain_per_API/Client_certificate_match
=== RUN   TestAPIMutualTLS/SNI_and_domain_per_API/Client_certificate_differ
=== RUN   TestAPIMutualTLS/Multiple_APIs_on_same_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs_on_same_domain/Empty_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs_on_same_domain/Empty_domain/Without_certificate
=== RUN   TestAPIMutualTLS/Multiple_APIs_on_same_domain/Empty_domain/Client_certificate_not_match
=== RUN   TestAPIMutualTLS/Multiple_APIs_on_same_domain/Empty_domain/Client_certificate_match
=== RUN   TestAPIMutualTLS/Multiple_APIs_on_same_domain/Custom_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs_on_same_domain/Custom_domain/Without_certificate
=== RUN   TestAPIMutualTLS/Multiple_APIs_on_same_domain/Custom_domain/Client_certificate_not_match
=== RUN   TestAPIMutualTLS/Multiple_APIs_on_same_domain/Custom_domain/Client_certificate_match
=== RUN   TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Empty_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Empty_domain/Without_certificate
=== RUN   TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Empty_domain/Client_certificate_not_match
=== RUN   TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Empty_domain/Client_certificate_match
=== RUN   TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Custom_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Custom_domain/Without_certificate
=== RUN   TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Custom_domain/Client_certificate_not_match
=== RUN   TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Custom_domain/Client_certificate_match
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Empty_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Empty_domain/Without_certificate
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Empty_domain/Client_certificate_not_match
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Empty_domain/Client_certificate_match
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Custom_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Custom_domain/Without_certificate
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Custom_domain/Client_certificate_not_match
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Custom_domain/Client_certificate_match
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Empty_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Empty_domain/Without_certificate
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Empty_domain/Client_certificate_not_match
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Empty_domain/Client_certificate_match
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Custom_domain
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Custom_domain/Without_certificate
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Custom_domain/Client_certificate_not_match
=== RUN   TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Custom_domain/Client_certificate_match
--- PASS: TestAPIMutualTLS (0.52s)
    --- PASS: TestAPIMutualTLS/SNI_and_domain_per_API (0.07s)
        --- PASS: TestAPIMutualTLS/SNI_and_domain_per_API/API_without_mutual_TLS (0.01s)
        --- PASS: TestAPIMutualTLS/SNI_and_domain_per_API/MutualTLSCertificate_not_set (0.01s)
        --- PASS: TestAPIMutualTLS/SNI_and_domain_per_API/Client_certificate_match (0.02s)
        --- PASS: TestAPIMutualTLS/SNI_and_domain_per_API/Client_certificate_differ (0.03s)
    --- PASS: TestAPIMutualTLS/Multiple_APIs_on_same_domain (0.08s)
        --- PASS: TestAPIMutualTLS/Multiple_APIs_on_same_domain/Empty_domain (0.04s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_on_same_domain/Empty_domain/Without_certificate (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_on_same_domain/Empty_domain/Client_certificate_not_match (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_on_same_domain/Empty_domain/Client_certificate_match (0.01s)
        --- PASS: TestAPIMutualTLS/Multiple_APIs_on_same_domain/Custom_domain (0.04s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_on_same_domain/Custom_domain/Without_certificate (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_on_same_domain/Custom_domain/Client_certificate_not_match (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_on_same_domain/Custom_domain/Client_certificate_match (0.01s)
    --- PASS: TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain (0.12s)
        --- PASS: TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Empty_domain (0.06s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Empty_domain/Without_certificate (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Empty_domain/Client_certificate_not_match (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Empty_domain/Client_certificate_match (0.02s)
        --- PASS: TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Custom_domain (0.06s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Custom_domain/Without_certificate (0.02s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Custom_domain/Client_certificate_not_match (0.02s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs_with_Mutual_TLS_on_the_same_domain/Custom_domain/Client_certificate_match (0.02s)
    --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom (0.09s)
        --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Empty_domain (0.04s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Empty_domain/Without_certificate (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Empty_domain/Client_certificate_not_match (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Empty_domain/Client_certificate_match (0.01s)
        --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Custom_domain (0.04s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Custom_domain/Without_certificate (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Custom_domain/Client_certificate_not_match (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_custom/Custom_domain/Client_certificate_match (0.01s)
    --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty (0.08s)
        --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Empty_domain (0.04s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Empty_domain/Without_certificate (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Empty_domain/Client_certificate_not_match (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Empty_domain/Client_certificate_match (0.01s)
        --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Custom_domain (0.04s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Custom_domain/Without_certificate (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Custom_domain/Client_certificate_not_match (0.01s)
            --- PASS: TestAPIMutualTLS/Multiple_APIs,_mutual_on_empty/Custom_domain/Client_certificate_match (0.01s)
=== RUN   TestUpstreamMutualTLS
=== RUN   TestUpstreamMutualTLS/Without_API
=== RUN   TestUpstreamMutualTLS/Upstream_API
--- PASS: TestUpstreamMutualTLS (0.11s)
    --- PASS: TestUpstreamMutualTLS/Without_API (0.00s)
    --- PASS: TestUpstreamMutualTLS/Upstream_API (0.02s)
=== RUN   TestSSLForceCommonName
=== RUN   TestSSLForceCommonName/Force_Common_Name_Check_is_Disabled
=== RUN   TestSSLForceCommonName/Force_Common_Name_Check_is_Enabled
--- PASS: TestSSLForceCommonName (0.10s)
    --- PASS: TestSSLForceCommonName/Force_Common_Name_Check_is_Disabled (0.04s)
    --- PASS: TestSSLForceCommonName/Force_Common_Name_Check_is_Enabled (0.04s)
=== RUN   TestKeyWithCertificateTLS
=== RUN   TestKeyWithCertificateTLS/Without_domain
=== RUN   TestKeyWithCertificateTLS/Without_domain/Cert_unknown
    cert_test.go:897: [0] Connection error: Get "https://127.0.0.1:58229/": remote error: tls: unrecognized name. 
=== RUN   TestKeyWithCertificateTLS/Without_domain/Cert_known
FAIL	github.com/TykTechnologies/tyk/gateway	6.853s
FAIL
